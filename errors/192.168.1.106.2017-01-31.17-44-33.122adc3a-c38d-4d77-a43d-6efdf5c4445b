(dp1
S'output'
p2
S"<type 'exceptions.TypeError'> ObjectId('5890bef1481f340e7f6d7e19') is not JSON serializable"
p3
sS'layer'
p4
S'/home/kevin/web2py/applications/kayoo/controllers/post.py'
p5
sS'code'
p6
S'# -*- coding: utf-8 -*-\nimport json\nfrom core.core import Core\nfrom decorators.http_method_constraint import HTTP_METHOD_CONSTRAINT\nfrom decorators.http_method_not_allowed_constraint import HTTP_METHOD_NOT_ALLOWED_CONSTRAINT\n\ndef met():\n   response.headers[\'Access-Control-Allow-Origin\'] = \'*\'\n   response.headers[\'Access-Control-Allow-Credentials\'] = True\n   response.headers[\'Access-Control-Allow-Headers\']= "origin, content-type, accept"\n   response.headers[\'Access-Control-Allow-Methods\']= "GET, POST, OPTIONS, DELETE"\n   print "pipi"\n   return "caca"\n\ndef header(response):\n    response.headers[\'Access-Control-Allow-Origin\'] = \'*\'\n    response.headers[\'Access-Control-Allow-Credentials\'] = True\n    response.headers[\'Access-Control-Allow-Headers\']= "origin, content-type, accept"\n    response.headers[\'Access-Control-Allow-Methods\']= "GET, POST, OPTIONS, DELETE"\n    return response\n\n@HTTP_METHOD_CONSTRAINT("GET", request)\ndef getFirstByFieldsPost():\n    header(response)\n    core = Core()\n    result = core.PostOperation("getFirstByFieldsPost", request.vars)\n    return response.json(result)\n\n@HTTP_METHOD_CONSTRAINT("GET", request)\n@CHECK_PARAMETERS(request.vars,{"id":"mandatory"},"getByIdPost")\ndef getByIdPost():\n    _id = request.vars["id"]\n    header(response)\n    core = Core()\n    result = core.PostOperation("getByIdPost", {"_id":_id})\n    return response.json(result)\n\n@HTTP_METHOD_CONSTRAINT("GET", request)\ndef getPosts():\n    core = Core()\n    header(response)\n    result = core.PostOperation("getAllPost", {})\n    return response.json(result)\n\n@HTTP_METHOD_CONSTRAINT("DELETE", request)\n@CHECK_PARAMETERS(request.vars,{"id":"mandatory"},"deletePost")\ndef deletePost():\n    _id = request.vars["id"]\n    core = Core()\n    header(response)\n    result = core.PostOperation("deletePost", {"_id":_id})\n    if result >= 1:\n        return "Success"\n    return "Failed"\n\n@HTTP_METHOD_CONSTRAINT(["POST", "OPTIONS"], request)\n@HTTP_METHOD_NOT_ALLOWED_CONSTRAINT(request, response)\ndef newPost():\n    core = Core()\n    response.headers[\'Access-Control-Allow-Origin\'] = \'*\'\n    response.headers[\'Access-Control-Allow-Credentials\'] = True\n    response.headers[\'Access-Control-Allow-Headers\']= "origin, content-type, accept"\n    response.headers[\'Access-Control-Allow-Methods\']= "GET, POST, OPTIONS, DELETE"\n    print "hey"\n    result = dict(core.PostOperation("createPost", request.vars))\n    print result\n    return response.json(result)\n    #return response.json({"pepe":"pipi"})\n\n@HTTP_METHOD_CONSTRAINT("POST", request)\n@CHECK_PARAMETERS(request.vars,{"id":"mandatory", "new_values":"mandatory"},"updatePost")\ndef updatePost():\n    _id = request.vars["id"]\n    _new_values = request.vars["new_values"]\n    core = Core()\n    header(response)\n    result = core.PostOperation("updatePost", {"_id":_id, "new_values":_new_values})\n    return response.json(result)\n\nresponse._vars=response._caller(newPost)\n'
p7
sS'snapshot'
p8
(dp9
sS'traceback'
p10
S'Traceback (most recent call last):\n  File "/home/kevin/web2py/gluon/restricted.py", line 227, in restricted\n    exec ccode in environment\n  File "/home/kevin/web2py/applications/kayoo/controllers/post.py", line 80, in <module>\n  File "/home/kevin/web2py/gluon/globals.py", line 417, in <lambda>\n    self._caller = lambda f: f()\n  File "applications/kayoo/modules/decorators/http_method_constraint.py", line 12, in wrapped_func\n    return f()\n  File "applications/kayoo/modules/decorators/http_method_not_allowed_constraint.py", line 16, in wrapped_func\n    return f()\n  File "/home/kevin/web2py/applications/kayoo/controllers/post.py", line 67, in newPost\n    return response.json(result)\n  File "/home/kevin/web2py/gluon/globals.py", line 661, in json\n    return json(data, default=default or custom_json)\n  File "/home/kevin/web2py/gluon/serializers.py", line 137, in json\n    value = json_parser.dumps(value, default=default)\n  File "/usr/lib/python2.7/json/__init__.py", line 251, in dumps\n    sort_keys=sort_keys, **kw).encode(obj)\n  File "/usr/lib/python2.7/json/encoder.py", line 207, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File "/usr/lib/python2.7/json/encoder.py", line 270, in iterencode\n    return _iterencode(o, 0)\n  File "/home/kevin/web2py/gluon/serializers.py", line 110, in custom_json\n    raise TypeError(repr(o) + " is not JSON serializable")\nTypeError: ObjectId(\'5890bef1481f340e7f6d7e19\') is not JSON serializable\n'
p11
s.